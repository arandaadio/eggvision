{% extends "comprof/base.html" %}

{% block title %}Tentang Kami · EggVision{% endblock %}

{% block head %}
<style>
    /* Hero Background Logic */
    .hero-bg {
        background-image: url("{{ url_for('static', filename='img/eggtentang.jpg') }}");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        position: relative;
    }
    
    .hero-overlay {
        background: linear-gradient(to bottom, rgba(255, 255, 255, 0.08) 40%, rgba(255, 255, 255, 1) 100%);
    }

    .dark .hero-overlay {
        background: linear-gradient(to bottom, rgba(26, 26, 26, 0.65) 40%, rgba(26, 26, 26, 1) 100%);
    }
    
    .hero-section {
        margin-top: 0 !important;
        min-height: 90vh;
    }

    .transparent-nav {
        background: transparent !important;
        border-bottom-color: transparent !important;
        backdrop-filter: none;
    }

    .solid-nav {
        background: #000000 !important;
        border-bottom-color: #1a1a1a !important;
        backdrop-filter: blur(10px);
    }

    .section-anchor {
        scroll-margin-top: 100px;
    }

    /* Modern Card Effects */
    .fancy-card {
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    .fancy-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px -15px rgba(190, 173, 102, 0.15);
    }

    .team-image-container {
        overflow: hidden;
    }
    
    .team-image {
        transition: transform 0.7s ease;
        filter: grayscale(100%);
    }
    
    /* Efek hover: Gambar jadi berwarna & zoom sedikit */
    .team-card:hover .team-image {
        transform: scale(1.05);
        filter: grayscale(0%);
    }

    /* Custom Scrollbar */
    textarea::-webkit-scrollbar {
        width: 8px;
    }
    textarea::-webkit-scrollbar-track {
        background: transparent;
    }
    textarea::-webkit-scrollbar-thumb {
        background-color: #bead66;
        border-radius: 20px;
    }
</style>
{% endblock %}

{% block content %}

<section class="hero-section relative flex items-center justify-center text-center text-pure-white overflow-hidden hero-bg">
    <div class="hero-overlay absolute inset-0 z-0"></div>

    <div class="relative z-10 p-6 max-w-6xl mx-auto">
        <h1 class="font-title text-6xl md:text-8xl mb-6 text-gray-900 dark:text-pure-white">
            Tentang Kami
        </h1>
        <p class="font-sans text-xl md:text-2xl max-w-2xl mx-auto mb-8 text-gray-700 dark:text-gray-300">
            Mengenal lebih dekat visi, misi, dan tim di balik revolusi industri peternakan telur Indonesia.
        </p>
    </div>
</section>

<section id="profil" class="section-anchor py-24 bg-white dark:bg-primary-black relative overflow-hidden">
    <div class="absolute top-0 right-0 w-1/3 h-full bg-premium-gold/5 blur-[120px] rounded-full pointer-events-none"></div>

    <div class="container mx-auto px-6 lg:px-8 max-w-7xl relative z-10">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-20 items-start">
            
            <div class="lg:col-span-5 flex flex-col justify-center h-full">
                <span class="text-premium-gold font-bold tracking-widest text-sm uppercase mb-4">Profil Perusahaan</span>
                <h2 class="font-title text-5xl md:text-6xl mb-8 text-primary-black dark:text-pure-white leading-tight">
                    Revolusi Grading Telur <span class="text-premium-gold">Cerdas.</span>
                </h2>
                <div class="prose dark:prose-invert text-lg text-gray-600 dark:text-gray-400 font-sans leading-relaxed space-y-6">
                    <p>
                        EggVision lahir dari sebuah keresahan sederhana: bagaimana teknologi dapat meningkatkan nilai tukar peternak lokal sekaligus menjamin kualitas pangan bagi konsumen?
                    </p>
                    <p>
                        Kami menggabungkan <strong>Kecerdasan Buatan (AI)</strong>, <strong>Internet of Things (IoT)</strong>, dan keahlian agrikultur untuk menciptakan ekosistem penilaian telur yang presisi, transparan, dan efisien.
                    </p>
                </div>
                
                <div class="mt-10 pt-8 border-t border-gray-200 dark:border-gray-800 flex gap-12">
                    <div>
                        <p class="text-4xl font-title text-primary-black dark:text-pure-white">99%</p>
                        <p class="text-sm text-gray-500 uppercase tracking-wide mt-1">Akurasi Grading</p>
                    </div>
                    <div>
                        <p class="text-4xl font-title text-primary-black dark:text-pure-white">SNI</p>
                        <p class="text-sm text-gray-500 uppercase tracking-wide mt-1">Standar 3926:2023</p>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-7 grid grid-cols-1 gap-6">
                <div class="fancy-card bg-gray-50 dark:bg-dark-gray p-8 rounded-2xl border border-gray-100 dark:border-gray-800 relative group overflow-hidden">
                    <div class="absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity">
                        <svg class="w-32 h-32 text-premium-gold" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>
                    </div>
                    <h3 class="font-title text-3xl mb-4 text-primary-black dark:text-pure-white group-hover:text-premium-gold transition-colors">Visi Kami</h3>
                    <p class="text-gray-600 dark:text-gray-400 text-lg">
                        Menjadi platform terdepan dalam transformasi digital industri peternakan telur Indonesia, meningkatkan efisiensi, kualitas, dan profitabilitas bagi seluruh pelaku industri.
                    </p>
                </div>

                <div class="fancy-card bg-gray-50 dark:bg-dark-gray p-8 rounded-2xl border border-gray-100 dark:border-gray-800 relative group overflow-hidden">
                    <div class="absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity">
                        <svg class="w-32 h-32 text-premium-gold" fill="currentColor" viewBox="0 0 24 24"><path d="M19.07 4.93L17.66 6.34C18.5 7.18 19 8.24 19 9.41V10c0 1.1-.9 2-2 2H7c-1.1 0-2-.9-2-2v-.59c0-1.17.5-2.23 1.34-3.07l-1.41-1.41C3.86 6.01 3 7.64 3 9.41V10c0 2.21 1.79 4 4 4h10c2.21 0 4-1.79 4-4V9.41c0-1.77-.86-3.4-2.07-4.48zM10 18h4v-2h-4v2z"/></svg>
                    </div>
                    <h3 class="font-title text-3xl mb-4 text-primary-black dark:text-pure-white group-hover:text-premium-gold transition-colors">Misi Kami</h3>
                    <ul class="space-y-3 text-gray-600 dark:text-gray-400">
                        <li class="flex items-start gap-3">
                            <span class="text-premium-gold mt-1">✦</span>
                            <span>Solusi grading otomatis akurat & terjangkau.</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-premium-gold mt-1">✦</span>
                            <span>Ekosistem langsung Peternak ke Konsumen (D2C).</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-premium-gold mt-1">✦</span>
                            <span>Pemberdayaan peternak melalui akses pasar digital.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="tim" class="section-anchor py-24 bg-light-gray dark:bg-dark-gray border-t border-gray-200 dark:border-gray-800">
    <div class="container mx-auto px-6 lg:px-8 max-w-7xl">
        <div class="text-center mb-16">
            <h2 class="font-title text-5xl text-primary-black dark:text-pure-white mb-2">
                Tim EggVision
            </h2>
        </div>

        <div class="grid grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8">
            {% set team_members = [
                {'name': 'Dio Aranda', 'role': 'Project Manager', 'img': 'dio.png'},
                {'name': 'Sarah Aninditya', 'role': 'Fullstack Developer', 'img': 'sarah.png'},
                {'name': 'Fauzi Luqman', 'role': 'ML Engineer', 'img': 'fauzi.png'},
                {'name': 'M. Dzaky Az-Zshahir', 'role': 'Prototype Designer', 'img': 'dzaky.png'}
            ] %}

            {% for member in team_members %}
            <div class="team-card group cursor-pointer">
                <div class="team-image-container relative aspect-[3/4] rounded-2xl bg-white dark:bg-[#1a1a1a] mb-6 shadow-lg overflow-hidden">
                    <img src="{{ url_for('static', filename='img/' + member.img) }}" 
                         alt="{{ member.name }}" 
                         class="team-image w-full h-full object-cover"
                         onerror="this.src='https://ui-avatars.com/api/?name={{ member.name }}&background=1a1a1a&color=bead66&size=512'">
                </div>
                
                <div class="text-center">
                    <h3 class="font-title text-xl md:text-2xl text-primary-black dark:text-pure-white group-hover:text-premium-gold transition-colors duration-300">
                        {{ member.name }}
                    </h3>
                    <p class="font-sans text-sm md:text-base text-gray-500 dark:text-gray-400 mt-1 uppercase tracking-wider font-medium">
                        {{ member.role }}
                    </p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<section id="kontak" class="section-anchor py-24 bg-white dark:bg-[#151515] relative overflow-hidden">
    <div class="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
        <div class="absolute -top-[20%] -right-[10%] w-[50vw] h-[50vw] bg-premium-gold/5 rounded-full blur-[100px]"></div>
    </div>

    <div class="container mx-auto px-6 lg:px-8 max-w-7xl relative z-10">
        <div class="bg-gray-50 dark:bg-dark-gray rounded-3xl shadow-2xl overflow-hidden flex flex-col lg:flex-row border border-gray-100 dark:border-gray-800">
            
            <div class="lg:w-2/5 bg-primary-black p-12 text-pure-white flex flex-col justify-between relative overflow-hidden">
                <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"></div>
                
                <div>
                    <h3 class="font-title text-3xl mb-2">Hubungi Kami</h3>
                    <p class="text-gray-400 mb-12">Siap memulai transformasi peternakan Anda?</p>
                    
                    <div class="space-y-8">
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full border border-gray-700 flex items-center justify-center text-premium-gold mt-1">
                                <i data-lucide="map-pin" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-premium-gold mb-1">Kantor Pusat</h4>
                                <p class="text-gray-400 text-sm leading-relaxed">
                                    Gedung EggVision Tbk.<br>Jl. Aranda No. 123, Jakarta Selatan
                                </p>
                            </div>
                        </div>

                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full border border-gray-700 flex items-center justify-center text-premium-gold mt-1">
                                <i data-lucide="mail" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-premium-gold mb-1">Email</h4>
                                <p class="text-gray-400 text-sm">eggvision5@gmail.com</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full border border-gray-700 flex items-center justify-center text-premium-gold mt-1">
                                <i data-lucide="phone" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-premium-gold mb-1">Telepon</h4>
                                <p class="text-gray-400 text-sm">+62 811 1234 567</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-12 pt-8 border-t border-gray-800">
                    <p class="text-xs text-gray-500">© 2024 EggVision. All rights reserved.</p>
                </div>
            </div>

            <div class="lg:w-3/5 p-8 md:p-12 bg-white dark:bg-dark-gray">
                <form id="contactForm" class="space-y-6" onsubmit="submitForm(event)">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="relative">
                            <input type="text" id="contactName" required placeholder=" "
                                   class="peer w-full px-4 py-3 bg-transparent border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:border-premium-gold focus:ring-1 focus:ring-premium-gold text-gray-900 dark:text-white transition-all">
                            <label class="absolute left-4 top-3 text-gray-500 dark:text-gray-400 transition-all peer-focus:-top-2.5 peer-focus:bg-white dark:peer-focus:bg-dark-gray peer-focus:px-2 peer-focus:text-xs peer-focus:text-premium-gold peer-[:not(:placeholder-shown)]:-top-2.5 peer-[:not(:placeholder-shown)]:bg-white dark:peer-[:not(:placeholder-shown)]:bg-dark-gray peer-[:not(:placeholder-shown)]:px-2 peer-[:not(:placeholder-shown)]:text-xs">
                                Nama Lengkap
                            </label>
                        </div>
                        <div class="relative">
                            <input type="email" id="contactEmail" required placeholder=" "
                                   class="peer w-full px-4 py-3 bg-transparent border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:border-premium-gold focus:ring-1 focus:ring-premium-gold text-gray-900 dark:text-white transition-all">
                            <label class="absolute left-4 top-3 text-gray-500 dark:text-gray-400 transition-all peer-focus:-top-2.5 peer-focus:bg-white dark:peer-focus:bg-dark-gray peer-focus:px-2 peer-focus:text-xs peer-focus:text-premium-gold peer-[:not(:placeholder-shown)]:-top-2.5 peer-[:not(:placeholder-shown)]:bg-white dark:peer-[:not(:placeholder-shown)]:bg-dark-gray peer-[:not(:placeholder-shown)]:px-2 peer-[:not(:placeholder-shown)]:text-xs">
                                Email
                            </label>
                        </div>
                    </div>

                    <div class="relative">
                        <input type="text" id="contactSubject" required placeholder=" "
                               class="peer w-full px-4 py-3 bg-transparent border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:border-premium-gold focus:ring-1 focus:ring-premium-gold text-gray-900 dark:text-white transition-all">
                        <label class="absolute left-4 top-3 text-gray-500 dark:text-gray-400 transition-all peer-focus:-top-2.5 peer-focus:bg-white dark:peer-focus:bg-dark-gray peer-focus:px-2 peer-focus:text-xs peer-focus:text-premium-gold peer-[:not(:placeholder-shown)]:-top-2.5 peer-[:not(:placeholder-shown)]:bg-white dark:peer-[:not(:placeholder-shown)]:bg-dark-gray peer-[:not(:placeholder-shown)]:px-2 peer-[:not(:placeholder-shown)]:text-xs">
                            Subjek
                        </label>
                    </div>

                    <div class="relative">
                        <textarea id="contactMessage" rows="4" required placeholder=" "
                                  class="peer w-full px-4 py-3 bg-transparent border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:border-premium-gold focus:ring-1 focus:ring-premium-gold text-gray-900 dark:text-white transition-all resize-none"></textarea>
                        <label class="absolute left-4 top-3 text-gray-500 dark:text-gray-400 transition-all peer-focus:-top-2.5 peer-focus:bg-white dark:peer-focus:bg-dark-gray peer-focus:px-2 peer-focus:text-xs peer-focus:text-premium-gold peer-[:not(:placeholder-shown)]:-top-2.5 peer-[:not(:placeholder-shown)]:bg-white dark:peer-[:not(:placeholder-shown)]:bg-dark-gray peer-[:not(:placeholder-shown)]:px-2 peer-[:not(:placeholder-shown)]:text-xs">
                            Pesan Anda
                        </label>
                    </div>

                    <div class="text-center pt-4">
                        <button type="submit" id="submitBtn"
                                class="w-full md:w-auto bg-premium-gold text-primary-black font-bold py-4 px-12 rounded-lg hover:bg-[#a69655] transition-all duration-300 shadow-lg transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed">
                            Kirim Pesan
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<script>
    // Initialize Lucide Icons
    lucide.createIcons();

    // Navbar Scroll Logic
    document.addEventListener('DOMContentLoaded', function() {
        const navbar = document.getElementById('mainNav');
        const heroSection = document.querySelector('.hero-section');
        
        const observer = new IntersectionObserver(
            (entries) => {
                entries.forEach(entry => {
                    if (!entry.isIntersecting) {
                        navbar.classList.remove('transparent-nav');
                        navbar.classList.add('solid-nav');
                    } else {
                        navbar.classList.add('transparent-nav');
                        navbar.classList.remove('solid-nav');
                    }
                });
            },
            { rootMargin: '-100px 0px 0px 0px', threshold: 0 }
        );
        
        if (heroSection) {
            observer.observe(heroSection);
        }
    });

    // Form Handling Logic
    async function submitForm(event) {
        event.preventDefault();
        
        const btn = document.getElementById('submitBtn');
        const originalText = btn.innerText;
        
        const formData = {
            name: document.getElementById('contactName').value,
            email: document.getElementById('contactEmail').value,
            subject: document.getElementById('contactSubject').value,
            message: document.getElementById('contactMessage').value
        };

        btn.disabled = true;
        btn.innerHTML = `<span class="animate-pulse">Mengirim...</span>`;

        try {
            const response = await fetch('/api/contact/submit', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(formData)
            });

            const result = await response.json();

            if (result.success) {
                alert('Pesan berhasil terkirim!'); 
                document.getElementById('contactForm').reset();
            } else {
                alert('Gagal: ' + (result.error || 'Terjadi kesalahan'));
            }
        } catch (error) {
            console.error('Error:', error);
            alert('Koneksi bermasalah.');
        } finally {
            btn.disabled = false;
            btn.innerText = originalText;
        }
    }
</script>
{% endblock %}