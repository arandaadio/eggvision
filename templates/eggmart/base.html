<!doctype html>
<html lang="id" class="h-full">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}EggMart Â· Marketplace{% endblock %}</title>
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='img/logoegg.png') }}">

  <link rel="stylesheet" href="{{ url_for('static', filename='css/fonts.css') }}">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            'canela': ['Canela Bold', 'serif'],
            'jakarta': ['Plus Jakarta Sans', 'sans-serif'],
          },
          colors: {
            primary: '#bead66', 
            'primary-foreground': '#000000',
            paper: '#FDFBF7',
            ink: '#1a1a1a',
            card: '#ffffff',
            border: '#e5e7eb',
            
            // Dark Mode Specifics
            dark: {
                background: '#0a0a0a', 
                surface: '#161616',
                border: '#262626',
            }
          }
        }
      }
    }
  </script>

  <style>
    /* Custom Scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background-color: #e5e7eb; border-radius: 20px; }
    .dark ::-webkit-scrollbar-thumb { background-color: #333; }
    
    [x-cloak] { display: none !important; }

    /* Remove arrows in Chrome, Edge, Safari */
    input[type=number]::-webkit-inner-spin-button,
    input[type=number]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    /* Remove arrows in Firefox */
    input[type=number] {
        -moz-appearance: textfield;
    }
  </style>
</head>
<body class="min-h-screen bg-paper dark:bg-dark-background text-ink dark:text-white font-jakarta transition-colors duration-300 antialiased">

  {% block content %}{% endblock %}

  <script>
    // Lucide Icons
    document.addEventListener("DOMContentLoaded", () => {
      if (window.lucide) lucide.createIcons();
    });

    // Dark Mode Init
    if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }

    function toggleDarkMode() {
        const html = document.documentElement;
        if (html.classList.contains('dark')) {
            html.classList.remove('dark');
            localStorage.theme = 'light';
        } else {
            html.classList.add('dark');
            localStorage.theme = 'dark';
        }
        if (window.lucide) lucide.createIcons();
    }
  </script>
  {% block scripts %}{% endblock %}
</body>
</html>